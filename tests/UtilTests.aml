namespace Am.Tests {

    class UtilTests {
        import Am.Lang
        import Am.Util.Parsers.Text
        import Am.Testing
        
        static test textParserParseUntil() {
            var tp = new TextParser("Hello World")
            var parsed = tp.parseUntil((c) => {
                if (c == 0x20) {  // Space character
                    return true
                }
                return false
            })
            
            Assert.assertEquals("Hello", parsed)
        }
        
        static test textParserPeek() {
            var tp = new TextParser("Hello World")
            var peeked = tp.peek(5.toUInt())
            
            Assert.assertEquals("Hello", peeked)
        }
        
        static test textParserSkip() {
            var tp = new TextParser("Hello World")
            tp.skip(6.toUInt())  // Skip "Hello "
            var peeked = tp.peek(5.toUInt())
            
            Assert.assertEquals("World", peeked)
        }
    }
}
